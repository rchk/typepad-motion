{% extends "motion/base.html" %}
{% load i18n %}

{% block page_id %}user-following{% endblock %}
{% block page_layout %}layout-wm{% endblock %}

{% block html_head %}
{{ block.super }}
<script type="text/javascript">
/* <![CDATA[ */
    var total_events = {{ page_obj.object_list.total_results }};
    var event_offset = {{ next_offset|default:"0" }};
/* ]]> */
</script>
{% endblock %}

{% block content_body %}

{% if not page_obj.object_list %}

{% block empty_events %}
{% url members as members_url %}
{% url home as home_url %}
{% if not following.total_results %}

{% blocktrans with request.group.display_name as group_name %}
<p><a href="{{ members_url }}">Follow members</a> of <a href="{{ home_url }}">{{ group_name }}</a> and see their updates as they get posted.</p>
{% endblocktrans %}

{% else %}

{% blocktrans with request.group.display_name as group_name %}
<p>There is no activity from the members you are following on <a href="{{ home_url }}">{{ group_name }}</a>.</p>
<p><a href="{{ members_url }}">Find more members to follow!</a></p>
{% endblocktrans %}

{% endif %}
{% endblock %}

{% else %}

<div class="actions">
    <ul class="hfeed" id="events-content">
    {% for event in page_obj.object_list %}{% with event.object as entry %}
        {% include "motion/assets/asset.html" %}
    {% endwith %}{% endfor %}
    </ul>
</div><!-- end .actions -->

<div class="controls">
    <button id="more-events" class="button-more" style="display:none;">{% trans "More" %}</button>
</div>

{% endif %}

{% endblock %}
